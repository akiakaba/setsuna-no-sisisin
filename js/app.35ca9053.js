(function(){"use strict";var t={308:function(t,e,s){var i=s(144),n=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{class:{shakin:t.shakesView},attrs:{id:"app"}},[e("div",{staticClass:"visual-area"},["initial"===t.state?e("div",{staticClass:"title-area"},[e("img",{staticClass:"title",attrs:{src:"setsuna_title.png"}})]):t._e(),"finish"===t.state?e("Finish"):[e("div",{directives:[{name:"show",rawName:"v-show",value:!!(t.currentStage+1),expression:"!!(currentStage + 1)"}]},[t._v("Stage: "+t._s(t.currentStage+1))]),e("ReadyGo",{staticClass:"ready-go",attrs:{state:t.readyGo}}),e("Character",{staticClass:"character-area",attrs:{state:t.characterState,left:"sisisin.jpg",right:t.currentOpponent&&t.currentOpponent.image}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showResult,expression:"showResult"}],staticClass:"result"},[t._v(t._s(t.result))])]],2),e("div",{staticClass:"control-area"},[e("button",{directives:[{name:"show",rawName:"v-show",value:t.showStart,expression:"showStart"}],on:{click:t.next}},[t._v("Click to start")]),e("button",{directives:[{name:"show",rawName:"v-show",value:t.showNext,expression:"showNext"}],on:{click:t.next}},[t._v("Click to next")]),e("button",{directives:[{name:"show",rawName:"v-show",value:t.showReturnTitle,expression:"showReturnTitle"}],on:{click:t.next}},[t._v(" Click to return to the title ")]),e("button",{directives:[{name:"show",rawName:"v-show",value:t.showStrike,expression:"showStrike"}],on:{click:t.strike}},[t._v("Strike!")])]),t._m(0),e("input",{ref:"keyBindInput",staticClass:"keyBindInput",attrs:{type:"text"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])?null:t.keydown.apply(null,arguments)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])?null:t.keyup.apply(null,arguments)}}})])},r=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"description"},[t._v(" Click the button or push "),e("code",{staticClass:"keyname"},[t._v("space")]),t._v(" key ASAP. ")])}];const a=[{name:"green-sisisin",time:600,image:"green_sisisin.jpg"},{name:"undead-sisisin",time:350,image:"undead_sisisin.png"},{name:"gold-sisisin",time:240,image:"gold_sisisin.jpg"}];var o=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"message"},[t._v(t._s(t.message))])},u=[];var c=i.ZP.extend({name:"ReadyGo",computed:{message:function(){switch(this.$props.state){case"none":return"";case"ready":return"Ready?";case"go":return"Go!!!";default:throw Error}}},props:["state"]}),l=c,h=s(1),d=(0,h.Z)(l,o,u,!1,null,"78114a1b",null),f=d.exports,p=function(){var t=this;t._self._c,t._self._setupProxy;return t._m(0)},v=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("div",{staticClass:"message"},[t._v("Congratulations!")]),e("div",{staticClass:"description"},[t._v("You have punished all bad-sisisins.")])])}],w=i.ZP.extend({name:"FinishView"}),y=w,g=(0,h.Z)(y,p,v,!1,null,"c9d97dd4",null),m=g.exports,_=function(){var t=this,e=t._self._c;t._self._setupProxy;return t.shows?e("div",[e("img",{staticClass:"character left",class:t.leftClass,attrs:{src:this.left}}),e("img",{staticClass:"character right",class:t.rightClass,attrs:{src:this.right}})]):t._e()},k=[];var x=i.ZP.extend({name:"CharacterView",computed:{shows:function(){return"none"!==this.state},leftClass:function(){return{"left-win":"left-win"===this.state}},rightClass:function(){return{"right-win":"right-win"===this.state}}},props:["state","left","right"]}),C=x,b=(0,h.Z)(C,_,k,!1,null,"36b91515",null),S=b.exports;var O=i.ZP.extend({name:"App",data(){return{state:"initial",result:"",readyGo:"none",keyready:!0,currentStage:-1,timer:{begin:0,opponentHandle:0}}},computed:{showStart(){return["initial","defeat"].includes(this.state)},showNext(){return"victory"===this.state},showReturnTitle(){return"finish"===this.state},showResult(){return["victory","defeat"].includes(this.state)},showMessage(){return"finish"===this.state},hasNextStage(){return a.length>this.currentStage+1},showStrike(){return["ready","contest"].includes(this.state)},shakesView(){return"defeat"===this.state},currentOpponent(){return a[this.currentStage]},characterState(){switch(this.state){case"ready":case"contest":return"init";case"victory":return"left-win";case"defeat":return"right-win";default:return"none"}}},methods:{next:function(){if(this.$refs.keyBindInput.focus(),"defeat"===this.state)this.currentStage=-1,this.state="initial",this.readyGo="none";else if("finish"===this.state)this.currentStage=-1,this.state="initial",this.readyGo="none";else if(this.hasNextStage){this.currentStage++,this.state="ready",this.readyGo="ready";const t=5e3*Math.random()+2e3,e=()=>{this.state="contest",this.readyGo="go",this.timer.begin=(new Date).getTime(),this.timer.opponentHandle=setTimeout((()=>{this.stricken()}),this.currentOpponent.time)};setTimeout(e,t)}else this.state="finish"},strike:function(){if("contest"===this.state){this.state="victory";const t=(new Date).getTime()-this.timer.begin;clearTimeout(this.timer.opponentHandle),this.result=`WIN: ${t} ms`}},stricken:function(){if("contest"===this.state){this.state="defeat";const t=(new Date).getTime()-this.timer.begin;this.result=`LOSE: ${t} ms`}},keydown:function(){this.keyready&&(this.keyready=!1,this.strike())},keyup:function(){this.keyready=!0}},components:{ReadyGo:f,Finish:m,Character:S}}),P=O,N=(0,h.Z)(P,n,r,!1,null,null,null),T=N.exports;i.ZP.config.productionTip=!1,new i.ZP({render:t=>t(T)}).$mount("#app")}},e={};function s(i){var n=e[i];if(void 0!==n)return n.exports;var r=e[i]={exports:{}};return t[i](r,r.exports,s),r.exports}s.m=t,function(){var t=[];s.O=function(e,i,n,r){if(!i){var a=1/0;for(l=0;l<t.length;l++){i=t[l][0],n=t[l][1],r=t[l][2];for(var o=!0,u=0;u<i.length;u++)(!1&r||a>=r)&&Object.keys(s.O).every((function(t){return s.O[t](i[u])}))?i.splice(u--,1):(o=!1,r<a&&(a=r));if(o){t.splice(l--,1);var c=n();void 0!==c&&(e=c)}}return e}r=r||0;for(var l=t.length;l>0&&t[l-1][2]>r;l--)t[l]=t[l-1];t[l]=[i,n,r]}}(),function(){s.d=function(t,e){for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,i){var n,r,a=i[0],o=i[1],u=i[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(n in o)s.o(o,n)&&(s.m[n]=o[n]);if(u)var l=u(s)}for(e&&e(i);c<a.length;c++)r=a[c],s.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return s.O(l)},i=self["webpackChunksetsuna_no_sisisin"]=self["webpackChunksetsuna_no_sisisin"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(308)}));i=s.O(i)})();
//# sourceMappingURL=app.35ca9053.js.map