(function(){"use strict";var t={6950:function(t,e,n){n(6992),n(8674),n(9601),n(7727);var s=n(144),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{shakin:t.shakesView},attrs:{id:"app"}},[n("div",{staticClass:"visual-area"},["initial"===t.state?n("div",{staticClass:"title-area"},[n("img",{staticClass:"title",attrs:{src:"setsuna_title.png"}})]):t._e(),"finish"===t.state?n("Finish"):[n("div",{directives:[{name:"show",rawName:"v-show",value:!!(t.currentStage+1),expression:"!!(currentStage + 1)"}]},[t._v("Stage: "+t._s(t.currentStage+1))]),n("ReadyGo",{staticClass:"ready-go",attrs:{state:t.readyGo}}),n("Character",{staticClass:"character-area",attrs:{state:t.characterState,left:"sisisin.jpg",right:t.currentOpponent&&t.currentOpponent.image}}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showResult,expression:"showResult"}],staticClass:"result"},[t._v(t._s(t.result))])]],2),n("div",{staticClass:"control-area"},[n("button",{directives:[{name:"show",rawName:"v-show",value:t.showStart,expression:"showStart"}],on:{click:t.next}},[t._v("Click to start")]),n("button",{directives:[{name:"show",rawName:"v-show",value:t.showNext,expression:"showNext"}],on:{click:t.next}},[t._v("Click to next")]),n("button",{directives:[{name:"show",rawName:"v-show",value:t.showReturnTitle,expression:"showReturnTitle"}],on:{click:t.next}},[t._v(" Click to return to the title ")]),n("button",{directives:[{name:"show",rawName:"v-show",value:t.showStrike,expression:"showStrike"}],on:{click:t.strike}},[t._v("Strike!")])]),t._m(0),n("input",{ref:"keyBindInput",staticClass:"keyBindInput",attrs:{type:"text"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])?null:t.keydown.apply(null,arguments)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])?null:t.keyup.apply(null,arguments)}}})])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"description"},[t._v(" Click the button or push "),n("code",{staticClass:"keyname"},[t._v("space")]),t._v(" key ASAP. ")])}],a=(n(6699),n(7397),[{name:"green-sisisin",time:600,image:"green_sisisin.jpg"},{name:"undead-sisisin",time:350,image:"undead_sisisin.png"},{name:"gold-sisisin",time:240,image:"gold_sisisin.jpg"}]),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"message"},[t._v(t._s(t.message))])},c=[],u=(n(1703),s.Z.extend({name:"ReadyGo",computed:{message:function(){switch(this.$props.state){case"none":return"";case"ready":return"Ready?";case"go":return"Go!!!";default:throw Error}}},props:["state"]})),l=u,h=n(1001),f=(0,h.Z)(l,o,c,!1,null,"78114a1b",null),d=f.exports,p=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},v=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"message"},[t._v("Congratulations!")]),n("div",{staticClass:"description"},[t._v("You have punished all bad-sisisins.")])])}],m=s.Z.extend({name:"FinishView"}),w=m,g=(0,h.Z)(w,p,v,!1,null,"c9d97dd4",null),y=g.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.shows?n("div",[n("img",{staticClass:"character left",class:t.leftClass,attrs:{src:this.left}}),n("img",{staticClass:"character right",class:t.rightClass,attrs:{src:this.right}})]):t._e()},_=[],x=s.Z.extend({name:"CharacterView",computed:{shows:function(){return"none"!==this.state},leftClass:function(){return{"left-win":"left-win"===this.state}},rightClass:function(){return{"right-win":"right-win"===this.state}}},props:["state","left","right"]}),C=x,b=(0,h.Z)(C,k,_,!1,null,"36b91515",null),S=b.exports,O=s.Z.extend({name:"App",data:function(){return{state:"initial",result:"",readyGo:"none",keyready:!0,currentStage:-1,timer:{begin:0,opponentHandle:0}}},computed:{showStart:function(){return["initial","defeat"].includes(this.state)},showNext:function(){return"victory"===this.state},showReturnTitle:function(){return"finish"===this.state},showResult:function(){return["victory","defeat"].includes(this.state)},showMessage:function(){return"finish"===this.state},hasNextStage:function(){return a.length>this.currentStage+1},showStrike:function(){return["ready","contest"].includes(this.state)},shakesView:function(){return"defeat"===this.state},currentOpponent:function(){return a[this.currentStage]},characterState:function(){switch(this.state){case"ready":case"contest":return"init";case"victory":return"left-win";case"defeat":return"right-win";default:return"none"}}},methods:{next:function(){var t=this;if(this.$refs.keyBindInput.focus(),"defeat"===this.state)this.currentStage=-1,this.state="initial",this.readyGo="none";else if("finish"===this.state)this.currentStage=-1,this.state="initial",this.readyGo="none";else if(this.hasNextStage){this.currentStage++,this.state="ready",this.readyGo="ready";var e=5e3*Math.random()+2e3,n=function(){t.state="contest",t.readyGo="go",t.timer.begin=(new Date).getTime(),t.timer.opponentHandle=setTimeout((function(){t.stricken()}),t.currentOpponent.time)};setTimeout(n,e)}else this.state="finish"},strike:function(){if("contest"===this.state){this.state="victory";var t=(new Date).getTime()-this.timer.begin;clearTimeout(this.timer.opponentHandle),this.result="WIN: ".concat(t," ms")}},stricken:function(){if("contest"===this.state){this.state="defeat";var t=(new Date).getTime()-this.timer.begin;this.result="LOSE: ".concat(t," ms")}},keydown:function(){this.keyready&&(this.keyready=!1,this.strike())},keyup:function(){this.keyready=!0}},components:{ReadyGo:d,Finish:y,Character:S}}),N=O,T=(0,h.Z)(N,i,r,!1,null,null,null),G=T.exports;s.Z.config.productionTip=!1,new s.Z({render:function(t){return t(G)}}).$mount("#app")}},e={};function n(s){var i=e[s];if(void 0!==i)return i.exports;var r=e[s]={exports:{}};return t[s](r,r.exports,n),r.exports}n.m=t,function(){var t=[];n.O=function(e,s,i,r){if(!s){var a=1/0;for(l=0;l<t.length;l++){s=t[l][0],i=t[l][1],r=t[l][2];for(var o=!0,c=0;c<s.length;c++)(!1&r||a>=r)&&Object.keys(n.O).every((function(t){return n.O[t](s[c])}))?s.splice(c--,1):(o=!1,r<a&&(a=r));if(o){t.splice(l--,1);var u=i();void 0!==u&&(e=u)}}return e}r=r||0;for(var l=t.length;l>0&&t[l-1][2]>r;l--)t[l]=t[l-1];t[l]=[s,i,r]}}(),function(){n.d=function(t,e){for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,s){var i,r,a=s[0],o=s[1],c=s[2],u=0;if(a.some((function(e){return 0!==t[e]}))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(c)var l=c(n)}for(e&&e(s);u<a.length;u++)r=a[u],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(l)},s=self["webpackChunksetsuna_no_sisisin"]=self["webpackChunksetsuna_no_sisisin"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(6950)}));s=n.O(s)})();
//# sourceMappingURL=app-legacy.f3645764.js.map